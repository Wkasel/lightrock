!function(a,b,c){var d,e,f,g;return d=void 0,g={password:"lrsu",parent_id:0,site_id:"0",source:null,api_base:"https://platform.launchrock.com/v1",description_id:"#launchrock-signup-description",form_id:"#signup_form",email_input_id:"#email_form",register_btn_id:"#email_btn",content_inner_wrap_id:"launchrock-signup-innercontent",share_content_id:"launchrock-share-content",lr_share_link_id:"lr_share_link"},e={init:function(b){return d=a(this),a.extend(g,b||{}),d.each(function(a,b){return f.addListeners(b)}),d}},f={addListeners:function(b){return this.el=b,a(d).on("click",g.email_input_id,function(){return a(this).val("")}),a(d).on("click",g.register_btn_id,function(){return f.registerUser(function(a){return that.transitionToShare(a)})}),d},transitionToShare:function(b){return a(this.el).wrapInner('<div id="'+g.content_inner_wrap_id+'" />'),a("#"+g.content_inner_wrap_id).fadeOut().remove(),a(this.el).wrapInner('<div id="'+g.content_inner_wrap_id+'_share" />'),a("#"+g.content_inner_wrap_id+"_share").hide(),a("#"+g.content_inner_wrap_id+"_share").html(a("#"+g.share_content_id).html(),console.log(b)).fadeIn(),d},registerUser:function(b){var c;return c=this,this.getIp(function(d){var e;return e={email:a(g.email_input_id).val(),password:"",parent_id:"",site_id:g.site_id,source:"",ip:d},c.createSiteUser(e,function(a){return b(a)})}),d},createSiteUser:function(b,c){return a.ajax({url:g.api_base+"/createSiteUser",data:b,success:function(a){return a[0].response.error?(alert("Error: "+a[0].response.error.error_message),console.error("LightRock[ERROR]: "+a[0].response.error.error_message)):c(a[0].response)},error:function(){return alert("Well this is embarrasing, we couldn't register you, would you please try again?"),console.error("LightRock[ERROR]: Could not create LaunchRock user, please try again.")}}),d},generateShareLink:function(b,d,e){var f;return f={user_id:b,site_id:g.site_id,channel:d,url:c.URL},a.ajax({url:g.api_base+"/createSiteUserChannelLink",data:f,success:function(a){return e(a[0].response.channel_link)},error:function(){return console.error("LightRock[ERROR]: Could not generate Share URL.")}})},getIp:function(b){return a.get(g.api_base+"/getClientIP",function(a){return b(a[0].response.client_ip.ip)}),d}},a.fn.LightRock=function(b){return e[b]?e[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?a.error("Method "+b+" does not exist on jquery.LightRock"):e.init.apply(this,arguments)}}(jQuery,window,document);